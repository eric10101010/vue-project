(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ca0edc1"],{"1dde":function(e,t,r){var c=r("d039"),o=r("b622"),a=r("2d00"),n=o("species");e.exports=function(e){return a>=51||!c((function(){var t=[],r=t.constructor={};return r[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8418:function(e,t,r){"use strict";var c=r("c04e"),o=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var n=c(t);n in e?o.f(e,n,a(0,r)):e[n]=r}},"99af":function(e,t,r){"use strict";var c=r("23e7"),o=r("d039"),a=r("e8b5"),n=r("861d"),s=r("7b0b"),l=r("50c4"),d=r("8418"),i=r("65f0"),b=r("1dde"),u=r("b622"),p=r("2d00"),O=u("isConcatSpreadable"),j=9007199254740991,f="Maximum allowed index exceeded",h=p>=51||!o((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),N=b("concat"),V=function(e){if(!n(e))return!1;var t=e[O];return void 0!==t?!!t:a(e)},m=!h||!N;c({target:"Array",proto:!0,forced:m},{concat:function(e){var t,r,c,o,a,n=s(this),b=i(n,0),u=0;for(t=-1,c=arguments.length;t<c;t++)if(a=-1===t?n:arguments[t],V(a)){if(o=l(a.length),u+o>j)throw TypeError(f);for(r=0;r<o;r++,u++)r in a&&d(b,u,a[r])}else{if(u>=j)throw TypeError(f);d(b,u++,a)}return b.length=u,b}})},b0c0:function(e,t,r){var c=r("83ab"),o=r("9bf2").f,a=Function.prototype,n=a.toString,s=/^\s*function ([^ (]*)/,l="name";c&&!(l in a)&&o(a,l,{configurable:!0,get:function(){try{return n.call(this).match(s)[1]}catch(e){return""}}})},e90b:function(e,t,r){"use strict";r.r(t);r("b0c0"),r("ac1f"),r("5319");var c=r("7a23"),o={class:"container my-5"},a=Object(c["createVNode"])("div",{class:"row"},[Object(c["createVNode"])("div",{class:"col-9 mx-auto"},[Object(c["createVNode"])("div",{class:"position-relative mb-5 pb-5"},[Object(c["createVNode"])("div",{class:"progress",style:{height:"1px"}},[Object(c["createVNode"])("div",{class:"progress-bar",role:"progressbar",style:{width:"100%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"})]),Object(c["createVNode"])("button",{type:"button",class:"position-absolute top-0 start-0 translate-middle btn btn-primary rounded-pill",style:{width:"2rem",height:"2rem"}}),Object(c["createVNode"])("p",{class:"position-absolute top-0 start-0 translate-middle mt-4 pt-2"},"確認商品"),Object(c["createVNode"])("button",{type:"button",class:"position-absolute top-0 start-50 translate-middle btn btn-primary rounded-pill",style:{width:"2rem",height:"2rem"}}),Object(c["createVNode"])("p",{class:"position-absolute top-0 start-50 translate-middle mt-4 pt-2"},"填寫資料"),Object(c["createVNode"])("button",{type:"button",class:"position-absolute top-0 start-100 translate-middle btn btn-primary rounded-pill",style:{width:"2rem",height:"2rem"}}),Object(c["createVNode"])("p",{class:"position-absolute top-0 start-100 translate-middle text-nowrap mt-4\n          pt-2"}," 結賬 ")])])],-1),n=Object(c["createVNode"])("h2",{class:"text-center fw-bolder mb-3 mb-lg-5"},"感謝您的訂購!",-1),s=Object(c["createVNode"])("p",{class:"h3 text-center"},[Object(c["createTextVNode"])(" 以下是您的訂購資訊，"),Object(c["createVNode"])("span",{class:"d-md-none"},[Object(c["createVNode"])("br")]),Object(c["createTextVNode"])(" 請確認後進行"),Object(c["createVNode"])("span",{class:"text-danger"},"付款"),Object(c["createTextVNode"])("。 ")],-1),l={class:"row justify-content-center"},d={class:"col-lg-6"},i={class:"table table-bordered border-secondary"},b=Object(c["createVNode"])("th",null,"訂購時間",-1),u=Object(c["createVNode"])("th",null,"訂購 ID",-1),p=Object(c["createVNode"])("th",null,"訂購人",-1),O=Object(c["createVNode"])("th",null,"聯絡信箱",-1),j=Object(c["createVNode"])("th",null,"聯絡電話",-1),f=Object(c["createVNode"])("th",null,"地址",-1),h=Object(c["createVNode"])("th",null,"商品清單",-1),N=Object(c["createVNode"])("br",null,null,-1),V={class:"ms-auto"},m={class:"text-end mb-0 pt-1"},y=Object(c["createVNode"])("th",null,"折價券",-1),g=Object(c["createVNode"])("th",null,"您的備註",-1),v=Object(c["createVNode"])("th",null,"付款狀態",-1);function x(e,t,r,x,w,k){var D=this,S=Object(c["resolveComponent"])("toast");return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[a,Object(c["createVNode"])("section",null,[n,s,Object(c["createVNode"])("div",l,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])("table",i,[Object(c["createVNode"])("tbody",null,[Object(c["createVNode"])("tr",null,[b,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])((new Date).toLocaleString(w.order.create_at)),1)]),Object(c["createVNode"])("tr",null,[u,Object(c["createVNode"])("td",null,[Object(c["createVNode"])("input",{ref:"orderID",type:"text",value:w.order.id,class:"form-control mb-2"},null,8,["value"]),Object(c["createVNode"])("input",{type:"button",value:"點我複製以便查詢",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(){return k.copyOrderID&&k.copyOrderID.apply(k,arguments)}),["prevent"])),class:"btn btn-outline-primary"})])]),Object(c["createVNode"])("tr",null,[p,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(w.order.user.name),1)]),Object(c["createVNode"])("tr",null,[O,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(w.order.user.email),1)]),Object(c["createVNode"])("tr",null,[j,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(w.order.user.tel),1)]),Object(c["createVNode"])("tr",null,[f,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(w.order.user.address),1)]),Object(c["createVNode"])("tr",null,[h,Object(c["createVNode"])("td",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(w.order.products,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("p",{class:"d-flex align-items-end border-bottom mb-0",key:t.product.id},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.product.title),1),N,Object(c["createTextVNode"])(" $ "+Object(c["toDisplayString"])(t.product.price)+" x "+Object(c["toDisplayString"])(t.qty)+" "+Object(c["toDisplayString"])(t.product.unit)+" = ",1),Object(c["createVNode"])("span",V," $ "+Object(c["toDisplayString"])(e.$filters.currency(Math.floor(t.final_total))),1)])})),128)),Object(c["createVNode"])("p",m," 合計 : TWD$ "+Object(c["toDisplayString"])(e.$filters.currency(Math.floor(w.order.total))),1)])]),Object(c["createVNode"])("tr",null,[y,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(w.percent)+"折",1)]),Object(c["createVNode"])("tr",null,[g,Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(w.order.message),1)]),Object(c["createVNode"])("tr",null,[v,Object(c["createVNode"])("td",{class:["fw-bold","text-".concat(w.order.is_paid?"success":"danger")]},Object(c["toDisplayString"])(w.order.is_paid?"已付款":"未付款"),3)])])]),w.order.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:1,type:"button",value:"繼續選購",class:"btn btn-primary btn-lg text-white d-block w-50 mx-auto",onClick:t[3]||(t[3]=function(e){return D.$router.replace("/productsList")})})):(Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:0,type:"button",value:"由此付款",class:"btn btn-primary btn-lg text-white d-block w-50 mx-auto",onClick:t[2]||(t[2]=function(){return k.payOrder&&k.payOrder.apply(k,arguments)})}))])])]),Object(c["createVNode"])(S,{ref:"toast"},null,512)])}r("99af"),r("b64b");var w={data:function(){return{order:{user:{name:"",email:"",tel:"",address:""},message:""},orders:[],percent:0}},methods:{getOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("item666","/order/").concat(this.$route.params.id);this.axios.get(t).then((function(t){if(t.data.success&&t.data.order){e.order=t.data.order;var r=Object.keys(e.order.products)[0];e.percent=e.order.products[r].coupon?"".concat(e.order.products[r].coupon.percent," "):"未打"}else e.$refs.toast.showToast("查無此訂單喔!","error"),setTimeout((function(){e.$router.replace("/productsList")}),3e3)})).catch((function(){e.$refs.toast.showToast("無法取得資料喔!","error")}))},payOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("item666","/pay/").concat(this.order.id);this.axios.post(t).then((function(t){t.data.success?(e.$refs.toast.showToast("已完成付款並通知商家囉!"),e.getOrder()):e.$refs.toast.showToast(t.data.message,"error")})).catch((function(){e.$refs.toast.showToast("未完成付款，請稍後再試。","error")}))},copyOrderID:function(){document.execCommand("Copy",!1,this.$refs.orderID.select())}},created:function(){this.getOrder()}};w.render=x;t["default"]=w}}]);
//# sourceMappingURL=chunk-4ca0edc1.5ea37ef7.js.map