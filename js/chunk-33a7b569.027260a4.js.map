{"version":3,"sources":["webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./src/views/frontend/CheckoutInfo.vue","webpack:///./src/views/frontend/CheckoutInfo.vue?5068","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["fails","wellKnownSymbol","V8_VERSION","SPECIES","module","exports","METHOD_NAME","array","constructor","foo","Boolean","class","style","role","aria-valuenow","aria-valuemin","aria-valuemax","for","active","isLoading","status","to","cartsData","carts","item","key","id","product","src","imageUrl","alt","title","$filters","currency","price","qty","unit","total","Math","floor","final_total","percent","action","ref","postOrder","errors","name","type","order","user","rules","checkName","placeholder","email","tel","checkPhone","address","message","as","rows","value","disabled","Object","keys","length","checkData","data","isSubmitOrder","emits","props","methods","getCartsList","apiUrl","this","axios","get","then","res","success","$router","replace","coupon","$refs","toast","showToast","catch","post","window","scrollTo","orderForm","resetForm","$emit","setTimeout","orderId","test","phoneNumber","created","computed","attrs","every","watch","cartsUpdate","render","toPrimitive","definePropertyModule","createPropertyDescriptor","object","propertyKey","f","$","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","len","E","A","n","arguments","TypeError","DESCRIPTORS","defineProperty","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error"],"mappings":"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","file":"js/chunk-33a7b569.027260a4.js","sourcesContent":["var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","<template>\n  <div>\n    <Loading :active=\"isLoading.status\"></Loading>\n    <div class=\"container my-5\">\n      <div class=\"row\">\n        <!-- 購物流程 -->\n        <div class=\"col-9 mx-auto\">\n          <div class=\"position-relative mb-5 pb-5\">\n            <div class=\"progress\" style=\"height: 1px;\">\n              <div\n                class=\"progress-bar\"\n                role=\"progressbar\"\n                style=\"width: 50%;\"\n                aria-valuenow=\"50\"\n                aria-valuemin=\"0\"\n                aria-valuemax=\"100\"\n              ></div>\n            </div>\n            <router-link\n              to=\"/checkout\"\n              class=\"position-absolute top-0 start-0 translate-middle btn btn-primary rounded-pill\"\n              style=\"width: 2rem; height:2rem;\"\n            >\n            </router-link>\n            <p class=\"position-absolute top-0 start-0 translate-middle mt-4 pt-2\">確認商品</p>\n            <button\n              type=\"button\"\n              class=\"position-absolute top-0 start-50 translate-middle btn btn-primary rounded-pill\"\n              style=\"width: 2rem; height:2rem;\"\n            ></button>\n            <p class=\"position-absolute top-0 start-50 translate-middle mt-4 pt-2\">填寫資料</p>\n            <button\n              type=\"button\"\n              class=\"position-absolute top-0 start-100 translate-middle\n              btn btn-secondary rounded-pill\"\n              style=\"width: 2rem; height:2rem;\"\n            ></button>\n            <p\n              class=\"position-absolute top-0 start-100 translate-middle text-nowrap mt-4\n            pt-2\"\n            >\n              結賬\n            </p>\n          </div>\n        </div>\n        <!-- 填寫資料與檢視商品 -->\n        <div v-if=\"cartsData.carts[0]\" class=\"col-lg-9 mx-auto\">\n          <div class=\"row flex-md-row-reverse row-cols-1 row-cols-md-2\">\n            <!-- 您的訂購 -->\n            <div class=\"col mb-5 mb-md-0\">\n              <section>\n                <h2 class=\"text-center fw-bolder mb-3 mb-md-5\">您的訂購</h2>\n                <ul class=\"list-group\">\n                  <li class=\"list-group-item py-3\" v-for=\"item in cartsData.carts\" :key=\"item.id\">\n                    <div class=\"d-flex align-items-center\">\n                      <!-- 產品圖片 -->\n                      <router-link :to=\"`/product/${item.product.id}`\" class=\"link-dark\">\n                        <img\n                          :src=\"item.product.imageUrl\"\n                          :alt=\"item.title\"\n                          class=\"studio__checkout__img rounded me-3\"\n                        />\n                      </router-link>\n                      <!-- 數量增減群組與小計 -->\n                      <div class=\"w-100\">\n                        <!-- 產品名稱 -->\n                        <router-link :to=\"`/product/${item.product.id}`\" class=\"link-dark\">\n                          {{ item.product.title }}\n                        </router-link>\n                        <!-- 單價 -->\n                        <p class=\"mb-0\">\n                          單價：{{ '$ ' + $filters.currency(item.product.price) }} x\n                          {{ item.qty }} {{ item.product.unit }}\n                        </p>\n                        <!-- 小計 -->\n                        <p class=\"mb-0\">\n                          小計：<span class=\"text-end\">{{\n                            '$ ' + $filters.currency(item.total)\n                          }}</span>\n                        </p>\n                      </div>\n                    </div>\n                  </li>\n                  <li class=\"list-group-item py-3\">\n                    <div class=\"d-flex\">\n                      <div class=\"ms-auto\">\n                        <p class=\"mb-0 d-flex\">\n                          商品合計：\n                          <span class=\"ms-auto\">\n                            {{ 'TWD$ ' + $filters.currency(cartsData.total) }}\n                          </span>\n                        </p>\n                        <p class=\"mb-0 d-flex\">\n                          訂單總計：\n                          <span class=\"ms-auto text-danger\">\n                            {{ 'TWD$ ' + $filters.currency(Math.floor(cartsData.final_total)) }}\n                          </span>\n                        </p>\n                        <p class=\"mb-0\">{{ percent }}</p>\n                      </div>\n                    </div>\n                  </li>\n                </ul>\n              </section>\n            </div>\n            <!-- 訂購人資訊 -->\n            <div class=\"col\">\n              <section>\n                <h2 class=\"text-center fw-bolder mb-3\">訂購人資訊</h2>\n                <Form action=\"\" v-slot=\"{ errors }\" ref=\"orderForm\" @submit=\"postOrder\">\n                  <div class=\"row row-cols-1 g-3\">\n                    <div class=\"col\">\n                      <label for=\"userName\" class=\"form-label\"\n                        >訂購人姓名\n                        <span class=\"text-danger\">*</span>\n                      </label>\n                      <Field\n                        id=\"userName\"\n                        name=\"訂購人姓名\"\n                        type=\"text\"\n                        class=\"form-control\"\n                        :class=\"{ 'is-invalid': errors['訂購人姓名'], 'is-valid': order.user.name }\"\n                        :rules=\"checkName\"\n                        placeholder=\"請輸入姓名\"\n                        v-model=\"order.user.name\"\n                      ></Field>\n                      <error-message name=\"訂購人姓名\" class=\"invalid-feedback\"></error-message>\n                    </div>\n                    <div class=\"col\">\n                      <label for=\"userEmail\" class=\"form-label\"\n                        >聯絡信箱\n                        <span class=\"text-danger\">*</span>\n                      </label>\n                      <Field\n                        id=\"userEmail\"\n                        name=\"聯絡信箱\"\n                        type=\"email\"\n                        class=\"form-control\"\n                        :class=\"{ 'is-invalid': errors['聯絡信箱'], 'is-valid': order.user.email }\"\n                        placeholder=\"請輸入電子信箱\"\n                        rules=\"email|required\"\n                        v-model=\"order.user.email\"\n                      ></Field>\n                      <error-message name=\"聯絡信箱\" class=\"invalid-feedback\"></error-message>\n                    </div>\n                    <div class=\"col\">\n                      <label for=\"userTel\" class=\"form-label\"\n                        >手機號碼\n                        <span class=\"text-danger\">*</span>\n                      </label>\n                      <Field\n                        id=\"userTel\"\n                        name=\"手機號碼\"\n                        type=\"tel\"\n                        class=\"form-control\"\n                        :class=\"{ 'is-invalid': errors['手機號碼'], 'is-valid': order.user.tel }\"\n                        :rules=\"checkPhone\"\n                        placeholder=\"請輸入手機號碼\"\n                        v-model=\"order.user.tel\"\n                      ></Field>\n                      <error-message name=\"手機號碼\" class=\"invalid-feedback\"></error-message>\n                    </div>\n                    <div class=\"col\">\n                      <label for=\"userAddress\" class=\"form-label\"\n                        >聯絡地址\n                        <span class=\"text-danger\">*</span>\n                      </label>\n                      <Field\n                        id=\"userAddress\"\n                        name=\"聯絡地址\"\n                        type=\"text\"\n                        class=\"form-control\"\n                        :class=\"{\n                          'is-invalid': errors['聯絡地址'],\n                          'is-valid': order.user.address,\n                        }\"\n                        rules=\"required\"\n                        placeholder=\"請輸入聯絡地址\"\n                        v-model=\"order.user.address\"\n                      ></Field>\n                      <error-message name=\"聯絡地址\" class=\"invalid-feedback\"></error-message>\n                    </div>\n                    <div class=\"col\">\n                      <label for=\"userMessage\" class=\"form-label\">備註</label>\n                      <Field\n                        id=\"userMessage\"\n                        name=\"備註\"\n                        type=\"text\"\n                        class=\"form-control\"\n                        :class=\"{ 'is-valid': order.message }\"\n                        placeholder=\"餐點口味(海苔、孜然、莎莎醬)\"\n                        v-model=\"order.message\"\n                        as=\"textarea\"\n                        rows=\"3\"\n                      ></Field>\n                      <error-message name=\"備註\" class=\"invalid-feedback\"></error-message>\n                    </div>\n                    <div class=\"col\">\n                      <input\n                        type=\"submit\"\n                        value=\"送出訂單\"\n                        class=\"btn btn-primary text-white w-100\"\n                        :disabled=\"Object.keys(errors).length !== 0 || !checkData\"\n                      />\n                    </div>\n                  </div>\n                </Form>\n              </section>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <toast ref=\"toast\"></toast>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      cartsData: {\n        carts: [],\n      },\n      order: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      isSubmitOrder: false,\n      percent: 0,\n    };\n  },\n  emits: ['update'],\n  props: ['cartsUpdate'],\n  methods: {\n    getCartsList() {\n      const apiUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading.status = true;\n      this.axios\n        .get(apiUrl)\n        .then((res) => {\n          if (res.data.success) {\n            this.cartsData = res.data.data;\n            if (!this.cartsData.carts.length && !this.isSubmitOrder) {\n              this.$router.replace('/productsList');\n            }\n            if (this.cartsData.carts[0]) {\n              this.percent = this.cartsData.carts[0].coupon\n                ? `已打 ${this.cartsData.carts[0].coupon.percent} 折`\n                : '未使用優惠券';\n            }\n            this.isLoading.status = false;\n          } else {\n            this.$refs.toast.showToast(res.data.message, 'error');\n          }\n        })\n        .catch(() => {\n          this.$refs.toast.showToast('取得購物車清單有問題喔!', 'error');\n        });\n    },\n    postOrder() {\n      const apiUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order`;\n      this.axios\n        .post(apiUrl, { data: this.order })\n        .then((res) => {\n          if (res.data.success) {\n            this.isSubmitOrder = true;\n            window.scrollTo(0, 0);\n            this.$refs.toast.showToast('感謝您的選購! 請確認付款資訊，謝謝。');\n            this.$refs.orderForm.resetForm();\n            this.$emit('update');\n            setTimeout(() => {\n              this.$router.replace(`/order/${res.data.orderId}`);\n            }, 1500);\n          } else {\n            this.$refs.toast.showToast(res.data.message, 'error');\n          }\n        })\n        .catch(() => {\n          this.$refs.toast.showToast('無法送出訂單喔!', 'error');\n        });\n    },\n    checkName(value) {\n      const name = /^[\\u4e00-\\u9fa5]+$|^[a-zA-Z\\s]+$/;\n      return name.test(value) ? true : '請輸入中/英文姓名';\n    },\n    checkPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '需要正確的\"手機\"號碼';\n    },\n  },\n  created() {\n    this.getCartsList();\n  },\n  computed: {\n    checkData() {\n      const attrs = ['name', 'email', 'tel', 'address'];\n      return attrs.every((item) => this.order.user[item] !== '');\n    },\n  },\n  watch: {\n    cartsUpdate(value) {\n      if (value) {\n        this.getCartsList();\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./CheckoutInfo.vue?vue&type=template&id=fdf623e0\"\nimport script from \"./CheckoutInfo.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutInfo.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}