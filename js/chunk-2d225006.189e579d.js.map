{"version":3,"sources":["webpack:///./src/views/backend/Dashboard.vue","webpack:///./src/views/backend/Dashboard.vue?2a2f"],"names":["class","to","signOut","type","value","methods","this","axios","post","then","res","document","cookie","data","success","swal","message","$router","replace","name","catch","checkLogin","token","defaults","headers","common","Authorization","created","render"],"mappings":"0IAGSA,MAAM,+C,GACJA,MAAM,mB,+BAC0C,Y,GAC9CA,MAAM,sB,GAUVA,MAAM,mB,GACJA,MAAM,W,GACJA,MAAM,+B,GACJA,MAAM,8C,EACT,yBAAqB,KAAlBA,MAAM,MAAK,OAAG,G,GACZA,MAAM,+B,+BAEyE,Q,+BAGF,Q,+BAGE,Q,+BAGD,S,GAYlFA,MAAM,U,0JA3CjB,yBAgDM,YA9CJ,yBAWM,MAXN,EAWM,CAVJ,yBASM,MATN,EASM,CARJ,yBAAyE,GAA5DC,GAAG,IAAID,MAAM,0B,+BAAyB,iBAAQ,C,YAC3D,yBAMM,MANN,EAMM,CALJ,yBAIC,KAHCA,MAAM,gEACL,QAAK,0DAAU,EAAAE,SAAA,EAAAA,QAAA,qBAAO,eACtB,kBAMT,yBAgCM,MAhCN,EAgCM,CA/BJ,yBA8BM,MA9BN,EA8BM,CA7BJ,yBAyBM,MAzBN,EAyBM,CAxBJ,yBAuBM,MAvBN,EAuBM,CAtBJ,EACA,yBAcM,MAdN,EAcM,CAZJ,yBAEc,GAFDD,GAAG,mBAAmBD,MAAM,0C,+BAAyC,iBAElF,C,YACA,yBAEc,GAFDC,GAAG,iBAAiBD,MAAM,0C,+BAAyC,iBAEhF,C,YACA,yBAEc,GAFDC,GAAG,mBAAmBD,MAAM,0C,+BAAyC,iBAElF,C,YACA,yBAEc,GAFDC,GAAG,kBAAkBD,MAAM,0C,+BAAyC,iBAEjF,C,cAEF,yBAKE,SAJAG,KAAK,SACLC,MAAM,WACNJ,MAAM,6EACL,QAAK,8BAAE,EAAAE,SAAA,EAAAA,QAAA,2BAId,yBAEM,MAFN,EAEM,CADJ,yBAAe,W,wBAQV,GACbG,QAAS,CACPH,QADO,WACG,WACRI,KAAKC,MACFC,KADH,UACW,uCADX,YAEGC,MAAK,SAACC,GACLC,SAASC,OAAS,8BACdF,EAAIG,KAAKC,SACX,EAAKC,KAAKL,EAAIG,KAAKG,SACnB,EAAKC,QAAQC,QAAQ,CAAEC,KAAM,YAE7B,EAAKJ,KAAKL,EAAIG,KAAKG,QAAS,YAG/BI,OAAM,WACL,EAAKL,KAAK,QAAS,aAGzBM,WAjBO,WAiBM,WACLC,EAAQX,SAASC,OAAOM,QAAQ,iDAAkD,MACxFZ,KAAKC,MAAMgB,SAASC,QAAQC,OAAOC,cAAgBJ,EACnDhB,KAAKC,MAAMC,KAAX,UAAmB,uCAAnB,oBAA6DC,MAAK,SAACC,GAC5DA,EAAIG,KAAKC,SACZ,EAAKG,QAAQC,QAAQ,CAAEC,KAAM,gBAKrCQ,QA5Ba,WA6BXrB,KAAKe,eC/ET,EAAOO,OAASA,EAED","file":"js/chunk-2d225006.189e579d.js","sourcesContent":["<template>\n  <div>\n    <!-- 置頂導覽列 -->\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <div class=\"container-fluid\">\n        <router-link to=\"/\" class=\"logo navbar-brand ms-2\">VFitness</router-link>\n        <div class=\"navbar-nav ms-auto\">\n          <a\n            class=\"nav-link text-primary me-2 btn btn-outline-primary text-white\"\n            @click.prevent=\"signOut\"\n            >Sign out</a\n          >\n        </div>\n      </div>\n    </nav>\n    <!-- Dashboard 內容 -->\n    <div class=\"container-fluid\">\n      <div class=\"row g-0\">\n        <div class=\"height--vh col-2 sticky-top\">\n          <div class=\"px-2 py-3 bg-light h-100 position-relative\">\n            <p class=\"h3\">功能列</p>\n            <div class=\"list-group list-group-flush\">\n              <!-- 路由加上 linkActiveClass: 'active'，點擊路由時會自動加上 active -->\n              <router-link to=\"/manage/products\" class=\"list-group-item list-group-item-action\">\n                商品\n              </router-link>\n              <router-link to=\"/manage/orders\" class=\"list-group-item list-group-item-action\">\n                訂單\n              </router-link>\n              <router-link to=\"/manage/articles\" class=\"list-group-item list-group-item-action\">\n                文章\n              </router-link>\n              <router-link to=\"/manage/coupons\" class=\"list-group-item list-group-item-action\">\n                優惠券\n              </router-link>\n            </div>\n            <input\n              type=\"button\"\n              value=\"Sign out\"\n              class=\"btn btn-primary position-absolute start-50 bottom-10 translate-middle w-50\"\n              @click=\"signOut\"\n            />\n          </div>\n        </div>\n        <div class=\"col-10\">\n          <router-view />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    signOut() {\n      this.axios\n        .post(`${process.env.VUE_APP_API}/logout`)\n        .then((res) => {\n          document.cookie = 'hexToken=; expires=; path=/';\n          if (res.data.success) {\n            this.swal(res.data.message);\n            this.$router.replace({ name: 'Signin' });\n          } else {\n            this.swal(res.data.message, 'error');\n          }\n        })\n        .catch(() => {\n          this.swal('登出失敗!', 'error');\n        });\n    },\n    checkLogin() {\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n      this.axios.defaults.headers.common.Authorization = token;\n      this.axios.post(`${process.env.VUE_APP_API}/api/user/check`).then((res) => {\n        if (!res.data.success) {\n          this.$router.replace({ name: 'Signin' });\n        }\n      });\n    },\n  },\n  created() {\n    this.checkLogin();\n  },\n};\n</script>\n","import { render } from \"./Dashboard.vue?vue&type=template&id=451c0842\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}