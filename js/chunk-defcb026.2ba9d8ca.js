(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-defcb026"],{"056c":function(e,t,a){"use strict";a.r(t);var o=a("7a23"),r={class:"navbar navbar-expand-lg navbar-dark bg-dark"},n={class:"container-fluid"},c=Object(o["createTextVNode"])("VFitness"),s={class:"navbar-nav ms-auto"},i={class:"container mt-5"},d={class:"row"},u={class:"col-4 mx-auto"},l=Object(o["createVNode"])("h2",{class:"text-center mb-3"},"Sign in to Manage",-1),f={class:"form-floating mb-3"},b=Object(o["createVNode"])("label",{for:"userName"},"Email address",-1),m={class:"form-floating mb-3"},p=Object(o["createVNode"])("label",{for:"userPw"},"Password",-1),v=Object(o["createVNode"])("div",{class:"d-flex justify-content-around"},[Object(o["createVNode"])("input",{type:"submit",value:"Sign in",class:"btn btn-primary"})],-1);function h(e,t,a,h,O,j){var g=Object(o["resolveComponent"])("Loading"),V=Object(o["resolveComponent"])("router-link"),w=Object(o["resolveComponent"])("Field"),N=Object(o["resolveComponent"])("error-message"),x=Object(o["resolveComponent"])("Form");return Object(o["openBlock"])(),Object(o["createBlock"])("div",null,[Object(o["createVNode"])(g,{active:e.isLoading.status},null,8,["active"]),Object(o["createVNode"])("nav",r,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])(V,{to:"/",class:"logo navbar-brand ms-2"},{default:Object(o["withCtx"])((function(){return[c]})),_:1}),Object(o["createVNode"])("div",s,[Object(o["createVNode"])("a",{class:"nav-link text-primary me-2 btn btn-outline-primary text-white",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return e.signOut&&e.signOut.apply(e,arguments)}),["prevent"]))},"Sign out")])])]),Object(o["createVNode"])("section",i,[Object(o["createVNode"])("div",d,[Object(o["createVNode"])("div",u,[l,Object(o["createVNode"])(x,{action:"",onSubmit:j.signIn,ref:"signForm"},{default:Object(o["withCtx"])((function(e){var a=e.errors;return[Object(o["createVNode"])("div",f,[Object(o["createVNode"])(w,{id:"userName",name:"Email",type:"email",class:["form-control",{"is-invalid":a["Email"]}],rules:"email|required",modelValue:O.userInfo.username,"onUpdate:modelValue":t[2]||(t[2]=function(e){return O.userInfo.username=e})},null,8,["class","modelValue"]),Object(o["createVNode"])(N,{name:"Email",class:"invalid-feedback"}),b]),Object(o["createVNode"])("div",m,[Object(o["createVNode"])(w,{id:"userPw",name:"Password",type:"password",class:["form-control",{"is-invalid":a["Password"]}],rules:"required",modelValue:O.userInfo.password,"onUpdate:modelValue":t[3]||(t[3]=function(e){return O.userInfo.password=e})},null,8,["class","modelValue"]),Object(o["createVNode"])(N,{name:"Password",class:"invalid-feedback"}),p]),v]})),_:1},8,["onSubmit"])])])])])}a("99af"),a("ac1f"),a("5319");var O={data:function(){return{userInfo:{}}},methods:{signIn:function(){var e=this;this.isLoading.status=!0,this.axios.post("".concat("https://vue3-course-api.hexschool.io","/admin/signin"),this.userInfo).then((function(t){var a=t.data,o=a.token,r=a.expired;document.cookie="hexToken=".concat(o,"; expires=").concat(new Date(r),"; path=/"),e.$refs.signForm.resetForm(),t.data.success?(e.swal(t.data.message),e.$router.replace({name:"Products"})):e.swal(t.data.message,"error"),e.isLoading.status=!1})).catch((function(){e.swal("登入失敗!","error")}))},checkLogin:function(){var e=this,t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=t,this.axios.post("".concat("https://vue3-course-api.hexschool.io","/api/user/check")).then((function(t){t.data.success?e.$router.replace({name:"Products"}):e.$router.replace({name:"Signin"})}))}},created:function(){this.checkLogin()}};O.render=h;t["default"]=O},"1dde":function(e,t,a){var o=a("d039"),r=a("b622"),n=a("2d00"),c=r("species");e.exports=function(e){return n>=51||!o((function(){var t=[],a=t.constructor={};return a[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8418:function(e,t,a){"use strict";var o=a("c04e"),r=a("9bf2"),n=a("5c6c");e.exports=function(e,t,a){var c=o(t);c in e?r.f(e,c,n(0,a)):e[c]=a}},"99af":function(e,t,a){"use strict";var o=a("23e7"),r=a("d039"),n=a("e8b5"),c=a("861d"),s=a("7b0b"),i=a("50c4"),d=a("8418"),u=a("65f0"),l=a("1dde"),f=a("b622"),b=a("2d00"),m=f("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",h=b>=51||!r((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),O=l("concat"),j=function(e){if(!c(e))return!1;var t=e[m];return void 0!==t?!!t:n(e)},g=!h||!O;o({target:"Array",proto:!0,forced:g},{concat:function(e){var t,a,o,r,n,c=s(this),l=u(c,0),f=0;for(t=-1,o=arguments.length;t<o;t++)if(n=-1===t?c:arguments[t],j(n)){if(r=i(n.length),f+r>p)throw TypeError(v);for(a=0;a<r;a++,f++)a in n&&d(l,f,n[a])}else{if(f>=p)throw TypeError(v);d(l,f++,n)}return l.length=f,l}})}}]);
//# sourceMappingURL=chunk-defcb026.2ba9d8ca.js.map